{% import 'macros/image_macros.html.twig' as imageMacros %}

<article
	class="pt-4 my-lg-3">

	<!-- Title Section -->
	<div class="row">
		<div class="col-12 section-title">
			<h2 class="pb-2 mb-4 border-bottom">Ã€ la une du Mag'</h2>
		</div>
	</div>

	<!-- Article -->
	<div
		class="row">

		<!-- Fist Recipe -->
		{% if articles|length > 0 %}
			{% set first_article = articles[0] %}
			<article class="col-md-6 pb-5">
				<div class="post-entry-1">

					{{ imageMacros.display_image(media, 'Description de l\'image', 'img-fluid object-fit-cover') }}

					<h3 class="pt-3">
						<a href="{{ path('article_show', {'slug': first_article.slug}) }}">{{ first_article.title }}</a>
					</h3>
					<p>{{ first_article.featuredText ?: first_article.content|striptags|slice(0, 120) ~'...' }}</p>

					<!-- Post Meta -->
					<div class="post-meta text-primary">
						<small>
							{# Date #}
							<span class="post-meta-date">
								<i class="fas fa-calendar-days"></i>
								<span class="post-meta-date-text">{{ first_article.createdAt|date('d M Y') }}</span>
							</span>
							<span class="post-meta-separator">|</span>

							{# Comment #}
							<span class="post-meta-comment">
								<i class="fas fa-comment-dots"></i>
								<span class="post-meta-comment-text">10</span>
							</span>
						</small>
					</div>

				</div>
			</article>
		{% endif %}

		<!-- Right Articles -->
		<div class="col-md-6">

			{% if articles|length > 1 %}
				{% for article in articles|slice(1, 3) %}
					{% set article_show = path('article_show', { 'slug': article.slug }) %}
					<article class="post-entry-2 d-flex bg-body-tertiary mb-3">

						{{ imageMacros.display_image(media, 'Description de l\'image', 'img-thumbnail border border-0 p-0', '100') }}
					<div class=" content p-3">

						<h3 class="fs-5">
							<a href="{{ article_show }}">{{ article.title }}</a>
						</h3>
						<!-- Post Meta -->
						<div class="post-meta text-primary ">
							<small>
								{# Date #}
								<span class="post-meta-date">
									<i class="fas fa-calendar-days"></i>
									<span class="post-meta-date-text">{{ article.createdAt|date('d M Y') }}</span>
								</span>
								<span class="post-meta-separator">|</span>

								{# Comment #}
								<span class="post-meta-comment">
									<i class="fas fa-comment-dots"></i>
									<span class="post-meta-comment-text">10</span>
								</span>
							</small>
						</div>

					</div>

				</article>
			{% endfor %}
		{% endif %}
		<a href="{{ path('article_all') }}" type="button" class="btn btn-outline-warning d-grid m-0">Voir tous nos articles</a>

	</div>

</div></article>
